backend:
  name: github
  repo: Slowburn-Movies/slowburn-movies.github.io
  branch: main 
  base_url: https://slowburn.mov 
  auth_endpoint: /api/auth       # Standard for Netlify Identity

media_folder: "assets/images" 
public_folder: "/assets/images"

collections:
  # --- BLOG, REVIEWS, & INTERVIEWS ---
  - name: "posts"
    label: "All Content"
    folder: "_posts"
    create: true
    # Jekyll requires this filename format to process the file as a post
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "Published", name: "published", widget: "boolean", default: true }
      - { label: "Hidden", name: "hidden", widget: "boolean", default: false, required: false }

      - label: "Post Type"
        name: "type"
        widget: "select"
        options: ["review", "interview", "blog"]
        default: "review"
      - { label: "Date", name: "date", widget: "datetime" }
      
      
      
      # --- AUTHOR RELATION ---
      - label: "Author"
        name: "author"
        widget: "relation"
        collection: "contributors"
        search_fields: ["name", "short_name"]
        value_field: "short_name" # Saves 'steve' or 'jeff' to your post
        display_fields: ["name"] # Shows 'Steve Stevenson' in the dropdown
        required: false

      - { label: "Title", name: "title", widget: "string" }
      - { label: "Release Year", name: "release_year", widget: "number", required: false }
      
      - { label: "Subtitle", name: "subtitle", widget: "string", required: false }
      - { label: "Description", name: "description", widget: "text", required: false }

      - { label: "Rating (0-5)", name: "rating", widget: "number", value_type: "float", step: 0.5, required: false }
      - { label: "Verdict", name: "verdict", widget: "string", required: false }

      - { label: "YouTube ID", name: "youtube_id", widget: "string", required: false }
      - { label: "Main Image", name: "image", widget: "image", required: false }
      - { label: "Image Alt", name: "image_alt", widget: "string", required: false }
      - { label: "Image Caption", name: "image_caption", widget: "string", required: false }
      - { label: "Leave a Comment Link", name: "comment_link", widget: "string", required: false }
      - { label: "View the Movie Link", name: "view_link", widget: "string", required: false }
      
      - label: "Other Ratings"
        name: "other_ratings"
        widget: "list"
        required: false
        fields:
          - { label: "Author", name: "author", widget: "string" }
          - { label: "Rating", name: "rating", widget: "number" }
          - { label: "Verdict", name: "verdict", widget: "string" }
          
      - { label: "Body", name: "body", widget: "markdown" }

  # --- CONTRIBUTORS ---
  - name: "contributors"
    label: "Authors & Contributors"
    folder: "_contributors"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Full Name", name: "name", widget: "string" }
      - { label: "Short Name (slug)", name: "short_name", widget: "string" }
      - { label: "Instagram Username", name: "instagram", widget: "string" }
      - { label: "Letterboxd Username", name: "letterboxd", widget: "string" }
      - { label: "Bio", name: "bio", widget: "text" }
      # Hidden from UI, but stays in the file
      - { label: "Body", name: "body", widget: "hidden", default: "" }

